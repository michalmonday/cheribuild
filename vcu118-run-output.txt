Namespace(action='all', benchmark_config=False, bios=PosixPath('/home/michal/cheri/output/
sdk/bbl-gfe/riscv64-purecap/bbl'), bitfile=PosixPath('/home/michal/BESSPIN-GFE/bitstreams/
soc_bluespec_p3.bit'), gdb=PosixPath('../ecats-phase3-evaluation/riscv64-unknown-elf-gdb')
, kernel=PosixPath('/home/michal/ecats-phase3-evaluation/kernel-riscv64-purecap.CHERI-GFE-
NODEBUG'), kernel_debug_file=None, ltxfile=PosixPath('/home/michal/BESSPIN-GFE/bitstreams/
soc_bluespec_p3.ltx'), num_cores=1, openocd=PosixPath('/usr/local/bin/openocd'), pretend=F
alse, test_command=None, test_timeout=3600)
vivado -nojournal -notrace -nolog -source /tmp/tmpgfnhll50 -mode batch -tclargs /home/mich
al/BESSPIN-GFE/bitstreams/soc_bluespec_p3.bit /home/michal/BESSPIN-GFE/bitstreams/soc_blue
spec_p3.ltx

****** Vivado v2019.1 (64-bit)
  **** SW Build 2552052 on Fri May 24 14:47:09 MDT 2019
  **** IP Build 2548770 on Fri May 24 18:01:18 MDT 2019
    ** Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.


Vivado started
source /tmp/tmpgfnhll50 -notrace
INFO: [Labtools 27-2285] Connecting to hw_server url TCP:localhost:3121
INFO: [Labtools 27-2222] Launching hw_server...
INFO: [Labtools 27-2221] Launch Output:

****** Xilinx hw_server v2019.1
  **** Build date : May 24 2019 at 15:06:40
    ** Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.


INFO: [Labtoolstcl 44-466] Opening hw_target localhost:3121/xilinx_tcf/Digilent/210308A5F7
CB
---------------------
Program Configuration
---------------------
Bitstream : /home/michal/BESSPIN-GFE/bitstreams/soc_bluespec_p3.bit
Probe Info: /home/michal/BESSPIN-GFE/bitstreams/soc_bluespec_p3.ltx

Programming...

Vivado started programming FPGA
INFO: [Labtools 27-3164] End of startup status: HIGH
program_hw_devices: Time (s): cpu = 00:00:29 ; elapsed = 00:00:29 . Memory (MB): peak = 14
33.941 ; gain = 0.000 ; free physical = 979 ; free virtual = 13322
INFO: [Labtoolstcl 44-464] Closing hw_target localhost:3121/xilinx_tcf/Digilent/210308A5F7
CB
****** Webtalk v2019.1 (64-bit)
  **** SW Build 2552052 on Fri May 24 14:47:09 MDT 2019
  **** IP Build 2548770 on Fri May 24 18:01:18 MDT 2019
    ** Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.

source /home/michal/cheribuild/.Xil/Vivado-1604-ubuntu/webtalk/labtool_webtalk.tcl -notrac
e
INFO: [Common 17-186] '/home/michal/cheribuild/.Xil/Vivado-1604-ubuntu/webtalk/usage_stati
stics_ext_labtool.xml' has been successfully sent to Xilinx on Mon Oct 31 10:03:26 2022. F
or additional details about this file, please refer to the WebTalk help file at /home/mich
al/Xilinx/Vivado/2019.1/doc/webtalk_introduction.html.
INFO: [Common 17-206] Exiting Webtalk at Mon Oct 31 10:03:26 2022...
Done!

Vivado finished programming FPGA
INFO: [Common 17-206] Exiting Vivado at Mon Oct 31 10:03:26 2022...
rm -f webtalk.log
rm -f webtalk.jou

Found TTY:/dev/ttyUSB1 - CP2105 Dual USB to UART Bridge Controller - Standard Com Port
USB VID:PID=10C4:EA70 SER=007F0DE4 LOCATION=3-2:1.1

Connecting to TTY...
/usr/bin/python3 -m serial.tools.miniterm /dev/ttyUSB1 115200 --eol LF
Expecting regex ['--- Miniterm on ']
--- Miniterm on /dev/ttyUSB1  115200,8,N,1 ---
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H ---

Connected to TTY
/usr/local/bin/openocd -f /tmp/tmp8zmfoxlo
Open On-Chip Debugger 0.10.0+dev-00621-gb9b9b6150 (2022-10-26-12:37)
Licensed under GNU GPL v2
For bug reports, read
        http://openocd.org/doc/doxygen/bugs.html

openocd started
adapter speed: 2000 kHz
ftdi samples TDO on falling edge of TCK
none separate
Info : Hardware thread awareness created
Info : clock speed 2000 kHz
Info : JTAG tap: riscv.cpu tap/device found: 0x14b31093 (mfg: 0x049 (Xilinx), part: 0x4b31
, ver: 0x1)
Info : datacount=2 progbufsize=0
Warn : We won't be able to execute fence instructions on this target. Memory may not alway
s appear consistent. (progbufsize=0, impebreak=0)
Info : Core 0 could not be made part of halt group 1.
Info : Examined RISC-V core; found 1 harts
Info :  hart 0: XLEN=64, misa=0x800000000014112d
Info : Listening on port 3333 for gdb connections
Info : JTAG tap: riscv.cpu tap/device found: 0x14b31093 (mfg: 0x049 (Xilinx), part: 0x4b31
, ver: 0x1)
Info : Listening on port 6666 for tcl connections
Info : Listening on port 4444 for telnet connections

openocd waiting for GDB connection
../ecats-phase3-evaluation/riscv64-unknown-elf-gdb /home/michal/cheri/output/sdk/bbl-gfe/r
iscv64-purecap/bbl -ex 'target extended-remote :3333' -ex 'set confirm off' -ex 'set pagin
ation off' -ex 'set style enabled off' -ex 'monitor reset init' -ex 'si 5' -ex 'set disass
emble-next-line on' -ex 'symbol-file /home/michal/ecats-phase3-evaluation/kernel-riscv64-p
urecap.CHERI-GFE-NODEBUG' -ex 'load /home/michal/ecats-phase3-evaluation/kernel-riscv64-pu
recap.CHERI-GFE-NODEBUG' -ex 'load /home/michal/cheri/output/sdk/bbl-gfe/riscv64-purecap/b
bl'
GNU gdb (GDB) 8.0.50.20170724-git
Copyright (C) 2017 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-pc-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
<http://www.gnu.org/software/gdb/documentation/>.
For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from /home/michal/cheri/output/sdk/bbl-gfe/riscv64-purecap/bbl...Info : ac
cepting 'gdb' connection on tcp/3333

openocd accepted GDB connection
done.
Remote debugging using :3333

GDB connected to openocd
0x0000000070000000 in ?? ()

PC set to bootrom
No symbol "style" in current context.
JTAG tap: riscv.cpu tap/device found: 0x14b31093 (mfg: 0x049 (Xilinx), part: 0x4b31, ver: 
0x1)
0x0000000044000000 in ?? ()

Done executing bootrom
Reading symbols from /home/michal/ecats-phase3-evaluation/kernel-riscv64-purecap.CHERI-GFE
-NODEBUG...(no debugging symbols found)...done.
Loading section .text, size 0x50401c lma 0xc0200000

Started loading kernel image (this may take a long time)
Loading section .rodata, size 0xd9ac lma 0xc0704020
Loading section .rodata.str1.1, size 0x4c1e3 lma 0xc07119cc
Loading section .rodata.cst32, size 0x160 lma 0xc075dbb0
Loading section .rodata.cst16, size 0x80 lma 0xc075dd10
Loading section .rodata.str4.4, size 0x18 lma 0xc075dd90
Loading section .rodata.cst8, size 0x18 lma 0xc075dda8
Loading section mfs, size 0x2800000 lma 0xc075ddc0

Loading section .eh_frame, size 0x40c lma 0xc2f5ddc0
Loading section .interp, size 0xd lma 0xc2f5e1cc
Loading section .hash, size 0x14cf8 lma 0xc2f5e1dc
Loading section .dynsym, size 0x3e6d0 lma 0xc2f72ed8
Loading section .dynstr, size 0x2c842 lma 0xc2fb15a8
Loading section .gnu.hash, size 0x11008 lma 0xc2fdddf0
Loading section .rela.dyn, size 0x78 lma 0xc2feedf8
Loading section .note.gnu.build-id, size 0x24 lma 0xc2feee70
Loading section .rela.plt, size 0x18 lma 0xc2feee98
Loading section .plt, size 0x30 lma 0xc2feeeb0
Loading section .data, size 0x6a397 lma 0xc2ff0000
Loading section set_sysctl_set, size 0x36d8 lma 0xc305a398
Loading section set_sysinit_set, size 0x1e80 lma 0xc305da70
Loading section set_sysuninit_set, size 0x1250 lma 0xc305f8f0
Loading section set_kdb_dbbe_set, size 0x10 lma 0xc3060b40
Loading section set_modmetadata_set, size 0xc38 lma 0xc3060b50
Loading section set_ofw_set, size 0x8 lma 0xc3061788
Loading section .data.read_frequently, size 0x29 lma 0xc3061790
Loading section .data.read_mostly, size 0x1380 lma 0xc30617c0
Loading section set_uart_fdt_class_and_device_set, size 0x18 lma 0xc3062b40
Loading section set_cons_set, size 0x18 lma 0xc3062b58
Loading section set_pcpu, size 0x1c80 lma 0xc3062b80
Loading section .data.exclusive_cache_line, size 0x6548 lma 0xc3064800
Loading section set_vnet, size 0x290a0 lma 0xc306ad48
Loading section set_compressors, size 0x8 lma 0xc3093de8
Loading section .got, size 0x2dd8 lma 0xc3093df0
Loading section .dynamic, size 0x100 lma 0xc3096bc8
Loading section .data.rel.ro, size 0x8ae8 lma 0xc3096cc8
Loading section .sdata, size 0x98c lma 0xc309f7b0
Start address 0xffffffc00000002e, load size 48885742
Transfer rate: 58 KB/sec, 15960 bytes/write.
Loading section .text, size 0x3bc lma 0xc0000000

Finished loading kernel image in 0:13:38.019473

Started loading bootloader image
Loading section .text, size 0x53ea lma 0xc00003bc
Loading section .rodata, size 0x5b1 lma 0xc00057a8
Loading section __cap_relocs, size 0x1b58 lma 0xc0005d60
Loading section .captable, size 0x8f0 lma 0xc00078c0
Loading section .htif, size 0x10 lma 0xc0009000
Loading section .data, size 0x2df lma 0xc000a000
Loading section .sdata, size 0x4 lma 0xc000a2e0
Start address 0xc0000000, load size 33938
Transfer rate: 54 KB/sec, 3770 bytes/write.

Finished loading bootloader image in 0:00:00.609049
continue

Starting CheriBSD after 0:13:39.091562
Expecting literal ['bbl loader', '---<<BOOT>>---', <class 'pexpect.exceptions.TIMEOUT'>]
bbl loader

bbl loader started
Expecting regex ['start_init: trying /sbin/init', 'Enter full pathname of shell or RETURN 
for /bin/sh', "wait for /bin/sh on /etc/rc failed'", 'Manual root filesystem specification
:', re.compile('USER_CHERI_EXCEPTION: pid \\d+ tid \\d+ \\(.+\\)'), re.compile('pid \\d+ t
id \\d+ \\(.+\\), uid \\d+: CHERI fault \\(type 0x'), re.compile('Trying to mount root fro
m .+\\.\\.\\.'), 'OK ', re.compile('(H|, h)it \\[Enter\\] to boot ')]
SoC version: unknown
Hart 0 version: unknown
---<<BOOT>>---
KDB: debugger backends: ddb
KDB: current backend: ddb
Physical memory chunk(s):
  0xc0000000 - 0xfeffffff,  1008 MB ( 258048 pages)
Excluded memory regions:
  0x80000000 - 0xc01fffff,  1026 MB ( 262656 pages) NoAlloc NoDump
  0xc0200000 - 0xc3141fff,    47 MB (  12098 pages) NoAlloc 
Found 1 CPUs in the device tree
Copyright (c) 1992-2020 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.
FreeBSD is a registered trademark of The FreeBSD Foundation.
FreeBSD 13.0-CURRENT #0 79e656911ba-c1(HEAD)-dirty: Wed Feb 24 16:10:48 UTC 2021
    jenkins@ctsrd-build-linux-xx:/local/scratch/jenkins/workspace/CheriBSD-pipeline_dev/ch
eribsd-riscv64-purecap-build/local/scratch/jenkins/workspace/CheriBSD-pipeline_dev/cheribs
d/riscv.riscv64c/sys/CHERI-GFE-NODEBUG riscv
clang version 11.0.0 (https://github.com/CTSRD-CHERI/llvm-project.git 8a7b282d89dee9a2a7d3
c0177bd0e37b59d537b5)
CHERI hybrid kernel.
Preloaded elf kernel "kernel" at 0xffffffc002f202a0.
SBI: Unknown (Legacy) Implementation
SBI Specification Version: 0.1
CPU(0): Unknown Implementer Unknown Processor
real memory  = 1056964608 (1008 MB)
Physical memory chunk(s):
0x00000000c3142000 - 0x00000000fd826fff, 980307968 bytes (239333 pages)
avail memory = 975544320 (930 MB)
No static device mappings.
random: no preloaded entropy cache
arc4random: WARNING: initial seeding bypassed the cryptographic random device because it w
as not yet seeded and the knob 'bypass_before_seeding' was enabled.
VIMAGE (virtualized network stack) enabled
hostuuid: using 00000000-0000-0000-0000-000000000000
ULE: setup cpu 0
random: entropy device external interface
mem: <memory>
crypto: <crypto core>
null: <full device, null device, zero device>
openfirm: <Open Firmware control device>
WARNING: Device "openfirm" is Giant locked and may be deleted before FreeBSD 13.0.
ofwbus0: <Open Firmware Device Tree>
simplebus0: <Flattened device tree simple bus> on ofwbus0
plic0: <RISC-V PLIC> mem 0xc000000-0xc3fffff irq 0,1 on simplebus0
axidma0: <Xilinx AXI DMA> mem 0x62200000-0x6220ffff irq 3,4 on simplebus0
timer0: <RISC-V Timer>
Timecounter "RISC-V Timecounter" frequency 250000 Hz quality 1000
Event timer "RISC-V Eventtimer" frequency 250000 Hz quality 1000
rcons0: <RISC-V console>
cpulist0: <Open Firmware CPU Group> on ofwbus0
cpu0: <Open Firmware CPU> on cpulist0
cpu0: Nominal frequency 25Mhz
riscv64_cpu0: register <0>
xae0: <Xilinx AXI Ethernet> mem 0x62100000-0x6213ffff irq 2 on simplebus0
xae0: xdma_ofw_get can't get dmas list.
xae0: Fallback to axistream-connected property
axidma0: Allocated chunk 80040000 32768
axidma0: Allocated chunk 80088000 32768
xae0: Identification: 9000000
miibus0: <MII bus> on xae0
ukphy0: <Generic IEEE 802.3u media interface> PHY 3 on miibus0
ukphy0: OUI 0x120016, model 0x0023, rev. 1
ukphy0:  none, 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, 1000baseT, 1000baseT-master
, 1000baseT-FDX, 1000baseT-FDX-master, auto
xae0: bpf attached
xae0: Ethernet address: 00:0a:35:04:db:5a
uart0: <16550 or compatible> mem 0x62300000-0x62300fff irq 5 on simplebus0
uart0: console (115200,n,8,1)
uart0: fast interrupt
uart0: PPS capture mode: DCD
cryptosoft0: <software crypto>
crypto: assign cryptosoft0 driver id 0, flags 0x6000000
Device configuration finished.
procfs registered
Timecounters tick every 10.000 msec
lo0: bpf attached
vlan: initialized, using hash tables with chaining
IPsec: Initialized Security Association Processing.
tcp_init: net.inet.tcp.tcbhashsize auto tuned to 8192
md0: Embedded image 41943040 bytes at 0xffffffc00055ddc0
Trying to mount root from ufs:/dev/md0 []...

===> mounting rootfs
Expecting regex ['login:', 'Logging in as root...', 'exec /bin/sh', 'Enter full pathname o
f shell or RETURN for /bin/sh', "wait for /bin/sh on /etc/rc failed'", 'Manual root filesy
stem specification:', 'DHCPACK from ', re.compile('USER_CHERI_EXCEPTION: pid \\d+ tid \\d+
 \\(.+\\)'), re.compile('pid \\d+ tid \\d+ \\(.+\\), uid \\d+: CHERI fault \\(type 0x')]
Warning: no time-of-day clock registered, system time will not be set accurately
start_init: trying /sbin/init
Setting up sysctls
sysctl: unknown oid 'kern.polling.user_frac' at line 2
sysctl: unknown oid 'machdep.unaligned_log_pps_limit' at line 5
kern.coredump: 1 -> 0
kern.random.harvest.mask: 991 -> 735
mount / rw
entropy read from /boot/entropy
entropy read from /var/db/entropy/entropy.0
entropy read from /var/db/entropy/entropy.1
create 500m TMPFS at /tmp
set up loopback
lo0: link state changed to UP
generate host keys
start sshd
random: unblocking device.
exec /bin/sh
Expecting literal ['# ']
# 
===> /etc/rc completed, got command prompt

===> setting PS1
PROMPT_COMMAND=''
PS2='[++PEXPECT\\PROMPT++]'
PS1='[PEXPECT\\PROMPT]>'
Expecting literal ['[PEXPECT\\PROMPT]>']
PROMPT_COMMAND=''
# PS2='[++PEXPECT\\PROMPT++]'
# PS1='[PEXPECT\\PROMPT]>'
[PEXPECT\PROMPT]>
===> successfully set PS1/PS2
No network interface specified, not trying to start dhclient.

===> booted CheriBSD (userspace startup time: 0:00:39.320721)

Interacting with CheriBSD. Use CTRL+] to exit

--- Settings: /dev/ttyUSB1  115200,8,N,1
--- RTS: active    DTR: active    BREAK: inactive
--- CTS: inactive  DSR: inactive  RI: inactive  CD: inactive
--- software flow control: inactive
--- hardware flow control: inactive
--- serial input encoding: UTF-8
--- serial output encoding: UTF-8
--- EOL: LF
--- filters: default
[PEXPECT\PROMPT]> 
[PEXPECT\PROMPT]>

